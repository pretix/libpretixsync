import java.util.Date;
import kotlin.Long;

CREATE TABLE Discount (
    id serial AS Long PRIMARY KEY NOT NULL,
    server_id bigint NOT NULL,
    event_slug character varying(255) NOT NULL,
    active boolean NOT NULL,
    available_from DATE AS Date,
    available_until DATE AS Date,
    "position" bigint NOT NULL,
    json_data text NOT NULL
);

ALTER TABLE ReceiptLine ADD line_price_gross numeric;
ALTER TABLE ReceiptLine ADD discount_id bigint;
